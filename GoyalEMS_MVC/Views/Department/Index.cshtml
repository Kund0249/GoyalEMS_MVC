
@model List<GoyalEMS_MVC.Models.DepartmentModel>


@{
    ViewBag.Title = "Department List";
}




<form method="post" action="/Department/Save">
    <div class="container-fluid">
        <div class="row">
            <div class="col-6 offset-3">
                <table class="table">
                    <tr>
                        <td>Department Code</td>
                        <td>
                            <input type="text" name="DepartmentCode"
                                   id="txtDepartmentCode" />
                           @Html.ValidationMessage("DepartmentCode",new { @class = "text-danger"})
                        </td>
                    </tr>
                    <tr>
                        <td>Department Name</td>
                        <td>
                            <input type="text" name="DepartmentName"
                                   id="txtDepartmentName" />
                            @Html.ValidationMessage("DepartmentName", new { @class = "text-danger" })

</tr>
                    <tr>
                        <td>
                            <input type="submit" value="Save"
                                   class="btn btn-success" />
                        </td>
                        <td>
                            <input type="reset" value="Clear"
                                   class="btn btn-danger" />
                        </td>
                    </tr>
                </table>
            </div>
        </div>

    </div>

    <br />
    <hr />
    <div class="col-6 offset-3">
        <table class="table">
            <thead>
                <tr>
                    <th>Depattment Code</th>
                    <th>Depattment Name</th>
                    <th>Action</th>
                </tr>
            </thead>
            <tbody>
               
                    @foreach (var item in Model)
                    {
                        <tr>
                            <td>@item.DepartmentCode</td>
                            <td>@item.DepartmentName</td>
                            <td>
                                <a href="/Department/Edit/@item.DepartmentId" class="btn btn-sm btn-primary">Edit</a>
                            </td>
                        </tr>
                    }
               

            </tbody>
        </table>
    </div>
</form>


@section Script{
    <script src="~/Scripts/jquery-1.8.0.js"></script>
    <script src="~/Scripts/jquery.validate.js"></script>
    <script src="~/Scripts/jquery.validate.unobtrusive.js"></script>
    <script>
    var data = '@Html.Raw(TempData["Message"] != null ? (string)TempData["Message"] : "")'
        console.log("data Value - " + data)
        if (data != '') {

            $(document).ready(function () {
                toastr["success"](data, "Title")
            });
    }
    </script>
}

